<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Not-ify Music Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            background-color: #e0f7fa;
            color: #000;
        }
        .top-bar {
            background-color: #0288d1;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        .container {
            display: flex;
            flex: 1;
        }
        .music-library {
            width: 300px;
            background-color: #03a9f4;
            color: #fff;
            overflow-y: auto;
            padding: 20px;
        }
        .music-library ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .music-library li {
            padding: 10px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .music-library li:hover {
            background-color: #81d4fa;
        }
        .player {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            background-color: #ffffff;
            color: #000;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            margin: 20px;
        }
        .track-info img {
            width: 200px;
            height: 200px;
            border-radius: 10px;
            margin-bottom: 20px;
            object-fit: cover;
        }
        .track-info span {
            display: block;
            margin: 5px 0;
        }
        .player-controls {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .player-controls button {
            padding: 10px;
            border: none;
            background-color: #0288d1;
            color: white;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
        }
        .player-controls button:hover {
            background-color: #0277bd;
        }
    </style>
</head>
<body>
    <div class="top-bar">Not-ify Music Player</div>
    <div class="container">
        <div class="music-library">
            <h2>All Songs</h2>
            <ul id="track-list"></ul>
            <h2>Favorites</h2>
            <ul id="favorites-list"></ul>
        </div>
        <div class="player">
            <div class="track-info">
                <img id="track-image" src="https://via.placeholder.com/200" alt="Album Art">
                <span id="track-title">Track Title</span>
                <span id="track-artist">Track Artist</span>
            </div>
            <div class="player-controls">
                <button id="prev"><i class="fas fa-backward"></i></button>
                <button id="play"><i class="fas fa-play"></i></button>
                <button id="next"><i class="fas fa-forward"></i></button>
            </div>
        </div>
    </div>
    <script>
        const audio = new Audio();
        let currentTrackIndex = 0;
        let tracks = [
            { title: "Song 1", artist: "Artist 1", url: "song1.mp3", image: "https://via.placeholder.com/200" },
            { title: "Song 2", artist: "Artist 2", url: "song2.mp3", image: "https://via.placeholder.com/200" },
            { title: "Song 3", artist: "Artist 3", url: "song3.mp3", image: "https://via.placeholder.com/200" }
        ];

        // Favorites system using localStorage
        function getFavorites() {
            return JSON.parse(localStorage.getItem("favorites")) || [];
        }

        function saveFavorites(favorites) {
            localStorage.setItem("favorites", JSON.stringify(favorites));
        }

        function toggleFavorite(track) {
            const favorites = getFavorites();
            const index = favorites.findIndex(fav => fav.title === track.title);
            if (index > -1) {
                favorites.splice(index, 1); // Remove from favorites
            } else {
                favorites.push(track); // Add to favorites
            }
            saveFavorites(favorites);
            displayFavorites();
        }

        function isFavorite(track) {
            return getFavorites().some(fav => fav.title === track.title);
        }

        // Display all tracks
        function displayTrackList() {
            const trackList = document.getElementById("track-list");
            trackList.innerHTML = "";
            tracks.forEach((track, index) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    ${track.title} - ${track.artist}
                    <button onclick="toggleFavorite(tracks[${index}])">
                        ${isFavorite(track) ? "★" : "☆"}
                    </button>
                `;
                listItem.onclick = () => {
                    currentTrackIndex = index;
                    loadTrack(index);
                    audio.play();
                };
                trackList.appendChild(listItem);
            });
        }

        // Display favorites
        function displayFavorites() {
            const favoritesList = document.getElementById("favorites-list");
            const favorites = getFavorites();
            favoritesList.innerHTML = "";
            favorites.forEach((track, index) => {
                const listItem = document.createElement("li");
                listItem.innerHTML = `
                    ${track.title} - ${track.artist}
                    <button onclick="toggleFavorite(tracks[${index}])">★</button>
                `;
                listItem.onclick = () => {
                    const trackIndex = tracks.findIndex(t => t.title === track.title);
                    if (trackIndex !== -1) {
                        currentTrackIndex = trackIndex;
                        loadTrack(trackIndex);
                        audio.play();
                    }
                };
                favoritesList.appendChild(listItem);
            });
        }

        // Load track
        function loadTrack(index) {
            const track = tracks[index];
            audio.src = track.url;
            document.getElementById("track-title").textContent = track.title;
            document.getElementById("track-artist").textContent = track.artist;
            document.getElementById("track-image").src = track.image;
        }

        // Player controls
        document.getElementById("play").onclick = () => {
            if (audio.paused) {
                audio.play();
                document.getElementById("play").innerHTML = '<i class="fas fa-pause"></i>';
            } else {
                audio.pause();
                document.getElementById("play").innerHTML = '<i class="fas fa-play"></i>';
            }
        };

        document.getElementById("prev").onclick = () => {
            currentTrackIndex = (currentTrackIndex - 1 + tracks.length) % tracks.length;
            loadTrack(currentTrackIndex);
            audio.play();
        };

        document.getElementById("next").onclick = () => {
            currentTrackIndex = (currentTrackIndex + 1) % tracks.length;
            loadTrack(currentTrackIndex);
            audio.play();
        };

        // Initialize
        displayTrackList();
        displayFavorites();
        if (tracks.length > 0) loadTrack(0);
    </script>
</body>
</html>
